{"ast":null,"code":"import \"antd/lib/message/style/css\";\nimport _message from \"antd/lib/message\";\nimport { useState, useCallback } from 'react';\nimport { myApiEndPoint, myApiAxiosInstance } from '../../constants/myApi.constant';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { messages } from '../../constants/message.constant';\nimport { errorSelector } from '../../helpers/utils.helper'; // eslint-disable-next-line import/prefer-default-export\n\nexport const useRegisterAccount = () => {\n  const {\n    loginWithEmail\n  } = useAuth();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const registerAccount = useCallback(async data => {\n    try {\n      setLoading(true);\n      await myApiAxiosInstance.post(myApiEndPoint.CREATE_NEW_ACCOUNT, data);\n      setLoading(false);\n      loginWithEmail(data.email, data.password);\n\n      _message.success(messages.ACCOUNT_WAS_CREATED_SUCCESS);\n    } catch (error) {\n      setLoading(false);\n\n      _message.error(errorSelector(error));\n    }\n  }, []);\n  return {\n    registerAccount,\n    loading\n  };\n};","map":{"version":3,"sources":["C:/Users/PC/WebstormProjects/nextjs/SoundCloudClone/src/hooks/user/useRegisterAccount.js"],"names":["useState","useCallback","myApiEndPoint","myApiAxiosInstance","useAuth","messages","errorSelector","useRegisterAccount","loginWithEmail","loading","setLoading","registerAccount","data","post","CREATE_NEW_ACCOUNT","email","password","success","ACCOUNT_WAS_CREATED_SUCCESS","error"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AAEA,SACEC,aADF,EAEEC,kBAFF,QAGO,gCAHP;AAIA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SAASC,QAAT,QAAyB,kCAAzB;AACA,SAASC,aAAT,QAA8B,4BAA9B,C,CAEA;;AACA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACtC,QAAM;AAAEC,IAAAA;AAAF,MAAqBJ,OAAO,EAAlC;AACA,QAAM;AAAA,OAACK,OAAD;AAAA,OAAUC;AAAV,MAAwBV,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAMW,eAAe,GAAGV,WAAW,CAAC,MAAOW,IAAP,IAAgB;AAClD,QAAI;AACFF,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMP,kBAAkB,CAACU,IAAnB,CACJX,aAAa,CAACY,kBADV,EAEJF,IAFI,CAAN;AAIAF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,cAAc,CAACI,IAAI,CAACG,KAAN,EAAaH,IAAI,CAACI,QAAlB,CAAd;;AACA,eAAQC,OAAR,CAAgBZ,QAAQ,CAACa,2BAAzB;AACD,KATD,CASE,OAAOC,KAAP,EAAc;AACdT,MAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,eAAQS,KAAR,CAAcb,aAAa,CAACa,KAAD,CAA3B;AACD;AACF,GAdkC,EAchC,EAdgC,CAAnC;AAeA,SAAO;AAAER,IAAAA,eAAF;AAAmBF,IAAAA;AAAnB,GAAP;AACD,CApBM","sourcesContent":["import { useState, useCallback } from 'react';\nimport { message } from 'antd';\nimport {\n  myApiEndPoint,\n  myApiAxiosInstance,\n} from '../../constants/myApi.constant';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { messages } from '../../constants/message.constant';\nimport { errorSelector } from '../../helpers/utils.helper';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const useRegisterAccount = () => {\n  const { loginWithEmail } = useAuth();\n  const [loading, setLoading] = useState(false);\n\n  const registerAccount = useCallback(async (data) => {\n    try {\n      setLoading(true);\n      await myApiAxiosInstance.post(\n        myApiEndPoint.CREATE_NEW_ACCOUNT,\n        data,\n      );\n      setLoading(false);\n      loginWithEmail(data.email, data.password);\n      message.success(messages.ACCOUNT_WAS_CREATED_SUCCESS);\n    } catch (error) {\n      setLoading(false);\n      message.error(errorSelector(error));\n    }\n  }, []);\n  return { registerAccount, loading };\n};\n"]},"metadata":{},"sourceType":"module"}