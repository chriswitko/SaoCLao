{"ast":null,"code":"import \"antd/lib/message/style/css\";\nimport _message from \"antd/lib/message\";\nimport { useEffect, useState } from 'react';\nimport { myApiEndPoint, myApiAxiosInstance } from '../../constants/myApi.constant';\nimport { messages } from '../../constants/message.constant';\nimport { useAddFavoriteTrack } from '../../contexts/TrackContext';\nimport { errorSelector } from '../../helpers/utils.helper';\nexport const useLikeTrack = track => {\n  const addFavoriteTrack = useAddFavoriteTrack();\n\n  const likeTrack = async () => {\n    try {\n      addFavoriteTrack(track);\n      await myApiAxiosInstance.post(`tracks/${track.id}/likes`); // update db\n\n      _message.success(track.name + messages.TRACK_LIKED_SUCCESS);\n    } catch (error) {\n      _message.error(errorSelector(error));\n    }\n  };\n\n  return {\n    likeTrack\n  };\n};","map":{"version":3,"sources":["C:/Users/PC/WebstormProjects/nextjs/SoundCloudClone/src/hooks/track/useLikeTrack.js"],"names":["useEffect","useState","myApiEndPoint","myApiAxiosInstance","messages","useAddFavoriteTrack","errorSelector","useLikeTrack","track","addFavoriteTrack","likeTrack","post","id","success","name","TRACK_LIKED_SUCCESS","error"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,aAAT,EAAwBC,kBAAxB,QAAkD,gCAAlD;AACA,SAASC,QAAT,QAAyB,kCAAzB;AACA,SAASC,mBAAT,QAAoC,6BAApC;AACA,SAASC,aAAT,QAA8B,4BAA9B;AAEA,OAAO,MAAMC,YAAY,GAAIC,KAAD,IAAW;AACrC,QAAMC,gBAAgB,GAAGJ,mBAAmB,EAA5C;;AAEA,QAAMK,SAAS,GAAG,YAAY;AAC5B,QAAI;AACFD,MAAAA,gBAAgB,CAACD,KAAD,CAAhB;AACA,YAAML,kBAAkB,CAACQ,IAAnB,CAAyB,UAASH,KAAK,CAACI,EAAG,QAA3C,CAAN,CAFE,CAEyD;;AAC3D,eAAQC,OAAR,CAAgBL,KAAK,CAACM,IAAN,GAAaV,QAAQ,CAACW,mBAAtC;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACd,eAAQA,KAAR,CAAcV,aAAa,CAACU,KAAD,CAA3B;AACD;AACF,GARD;;AAUA,SAAO;AAAEN,IAAAA;AAAF,GAAP;AACD,CAdM","sourcesContent":["import { useEffect, useState } from 'react';\nimport { message } from 'antd';\nimport { myApiEndPoint, myApiAxiosInstance } from '../../constants/myApi.constant';\nimport { messages } from '../../constants/message.constant';\nimport { useAddFavoriteTrack } from '../../contexts/TrackContext';\nimport { errorSelector } from '../../helpers/utils.helper';\n\nexport const useLikeTrack = (track) => {\n  const addFavoriteTrack = useAddFavoriteTrack();\n\n  const likeTrack = async () => {\n    try {\n      addFavoriteTrack(track);\n      await myApiAxiosInstance.post(`tracks/${track.id}/likes`); // update db\n      message.success(track.name + messages.TRACK_LIKED_SUCCESS);\n    } catch (error) {\n      message.error(errorSelector(error));\n    }\n  };\n\n  return { likeTrack };\n};\n"]},"metadata":{},"sourceType":"module"}